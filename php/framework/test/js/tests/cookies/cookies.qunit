(function (cookieUtil) {
    "use strict";

    var DAYS_BEFORE_EXP = 1;

    module("Cookies", {
        teardown: function () {
            cookieUtil.clearAll();
        }
    });

    test("Test cookie is created", function () {
        var cookieName = 'testCookie',
            cookieValue = "someValue";

        ok(!cookieUtil.exists(cookieName), "cookie does not exist before creation");
        cookieUtil.create(cookieName, cookieValue, DAYS_BEFORE_EXP);

        ok(cookieUtil.exists(cookieName), "cookie exists after creation");
        strictEqual(cookieUtil.value(cookieName), "someValue");
    });

    test("Test cookie is removed", function () {
        var cookieToDelete = "toDelete";
        cookieUtil.create(cookieToDelete, "will be deleted in this test", DAYS_BEFORE_EXP);
        ok(cookieUtil.exists(cookieToDelete), "cookie exists before deletion");

        cookieUtil.remove(cookieToDelete);

        ok(!cookieUtil.exists(cookieToDelete), "cookie exists does not exist after deletion");
    });

    test("Get cookie value when first in the list of cookies", function () {
        var desiredCookie = "desiredCookie",
            valueOfDesired = "value of desired cookie";

        cookieUtil.create(desiredCookie, valueOfDesired, DAYS_BEFORE_EXP);
        cookieUtil.create("extraCookie", "value of extra cookie", DAYS_BEFORE_EXP);

        strictEqual(cookieUtil.value(desiredCookie), valueOfDesired);
    });

    test("Get cookie value when last in the list of cookies", function () {
        var desiredCookie = "desiredCookie",
            valueOfDesired = "value of desired cookie";

        cookieUtil.create("extraCookie", "value of extra cookie", DAYS_BEFORE_EXP);
        cookieUtil.create(desiredCookie, valueOfDesired, DAYS_BEFORE_EXP);

        strictEqual(cookieUtil.value(desiredCookie), valueOfDesired);
    });

    test("Get cookie value when in middle of the list of cookies", function () {
        var desiredCookie = "desiredCookie",
            valueOfDesired = "value of desired cookie";

        cookieUtil.create("extraCookie", "value of extra cookie", DAYS_BEFORE_EXP);
        cookieUtil.create(desiredCookie, valueOfDesired, DAYS_BEFORE_EXP);
        cookieUtil.create("extraCookie2", "value of extra cookie", DAYS_BEFORE_EXP);

        strictEqual(cookieUtil.value(desiredCookie), valueOfDesired);
    });

}(travi.framework.cookies));